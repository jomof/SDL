# @configure_input@

CFLAGS  = -W -Wall -Wextra -g `sdl-config --cflags` -DSDL_NO_COMPAT
LDFLAGS = `sdl-config --libs`

CC = @CC@
#CFLAGS = @CFLAGS@
#LDFLAGS = @LIBS@

#@SET_MAKE@
SHELL = @SHELL@
srcdir = @srcdir@

SRC	=  runner.c

TEST_SRC = test.c 
TEST_OBJ = test.o

ALL_TESTS = libtest.so

.PHONY: all clean

all: runner $(ALL_TESTS)

runner: $(SRC)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $+

tests: $(ALL_TESTS)

libtest.so: test.o
	$(CC) -shared -wl,-soname,$@ -o $@ $+

test.o: $(TEST_SRC)
	$(CC) -fPIC $(CFLAGS) -c $+ -o $@

Makefile: Makefile.in config.status
	$(SHELL) /config.status $@

Makefile.in:
	;

clean:
	rm -f runner $(TESTS_ALL) *.o *.so

distclean: clean
	rm -f Makefile
	rm -f config.{h,log,status}
	rm -f configure configure.scan
	rm -f autoscan.log
	rm -Rf autom4te* *.dSYM

	
